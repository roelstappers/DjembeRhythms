<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" name="robots" content="noindex">
    <meta http-equiv="Cache-Control" content="no-cache" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.min.js" integrity="sha512-Siyxh4gyNM5SaERNa9BOZSPcu/auHyFUWn9OVFD7MxI3/dVPQklE7tfqS+pLmPHF1zo6UdDaJAp/thihrf0c7w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <title> Djembe Rhythms</title>
    <link rel="icon" type="image/x-icon" href="favicon.jpeg">
   <!---  <embed type="text/html" src="nav.html"> --->

  </head>

<body>
    <button id="play-button">Play/Pause</button>

<script>

djembe = { 
   T : new Tone.Player("./wav/tone1.wav").toDestination(),
   S : new Tone.Player("./wav/slap1.wav").toDestination(),
   B : new Tone.Player("./wav/bass1.wav").toDestination(),
   t : new Tone.Player("./wav/tone2.wav").toDestination(),
   s : new Tone.Player("./wav/slap2.wav").toDestination(),
   b : new Tone.Player("./wav/bass2.wav").toDestination(),
};


Tone.Transport.bpm.value=200
Tone.Transport.timeSignature = 3;

rhythm="B--s-sB---s-BtTtTtB---s-"
//rhythm="Bsssssssssssssssssssssss"

rhythmarray=rhythm.split("")

//Tone.scheduleRepeat(playrhythm,1/3)

const seq = new Tone.Sequence((time, note) => {
  //console.log(djembe.get(note))
  if (note != "-") {  djembe[note].start(time);}  
}, rhythmarray ).start(0);




document.getElementById("play-button").addEventListener("click", function() {
  if (Tone.Transport.state !== 'started') {
    //djembe["T"].start(0)

    Tone.Transport.start();
  } else {
    Tone.Transport.stop();
  }
});
</script>


</body>